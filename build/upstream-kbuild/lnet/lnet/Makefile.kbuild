obj-m += lnet.o

lnet-y := api-errno.o api-ni.o config.o lib-me.o lib-msg.o lib-eq.o	\
	  lib-md.o lib-ptl.o lib-move.o module.o lo.o router.o		\
	  router_proc.o acceptor.o peer.o

KDIR ?= /lib/modules/`uname -r`/build

ccflags-y := -I$(src)/../include
ccflags-y += -I$(src)/../../libcfs/include
ccflags-y += -include$(src)/../../config.h

default:
	$(MAKE) -C $(KDIR) M=$$PWD

clean:
	$(MAKE) -C $(KDIR) M=$$PWD clean
