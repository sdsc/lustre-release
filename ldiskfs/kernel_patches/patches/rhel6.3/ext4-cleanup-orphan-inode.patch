--- linux-stage.orig/fs/ext4/inode.c	2014-10-20 20:13:39.689001531 +0800
+++ linux-stage/fs/ext4/inode.c	2014-10-20 20:12:14.224997168 +0800
@@ -279,6 +279,7 @@
 				     "couldn't extend journal (err %d)", err);
 		stop_handle:
 			ext4_journal_stop(handle);
+			ext4_orphan_del(NULL, inode);
 			sb_end_intwrite(inode->i_sb);
 			goto no_delete;
 		}
