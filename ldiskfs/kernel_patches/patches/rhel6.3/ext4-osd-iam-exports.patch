---
 fs/ext4/exports.c |    3 +++
 fs/ext4/ext4.h    |    3 +++
 fs/ext4/namei.c   |    6 +++---
 3 files changed, 9 insertions(+), 3 deletions(-)

--- a/fs/ext4/exports.c
+++ b/fs/ext4/exports.c
@@ -32,3 +32,6 @@ EXPORT_SYMBOL(ext4_itable_unused_count);
 EXPORT_SYMBOL(ext4_find_entry);
 EXPORT_SYMBOL(ext4_add_entry);
 EXPORT_SYMBOL(ext4_delete_entry);
+EXPORT_SYMBOL(ext4fs_dirhash);
+EXPORT_SYMBOL(ext4_append);
+EXPORT_SYMBOL(__ext4_std_error);
--- a/fs/ext4/ext4.h
+++ b/fs/ext4/ext4.h
@@ -1790,6 +1790,9 @@ extern struct buffer_head * ext4_find_en
 #define ll_ext4_find_entry(inode, dentry, res_dir) ext4_find_entry(inode, &(dentry)->d_name, res_dir)
 extern int ext4_add_dot_dotdot(handle_t *handle, struct inode *dir,
 			       struct inode *inode);
+extern struct buffer_head *ext4_append(handle_t *handle,
+				       struct inode *inode,
+				       ext4_lblk_t *block, int *err);
 
 /* resize.c */
 extern int ext4_group_add(struct super_block *sb,
--- a/fs/ext4/namei.c
+++ b/fs/ext4/namei.c
@@ -49,9 +49,9 @@
 #define NAMEI_RA_SIZE	     (NAMEI_RA_CHUNKS * NAMEI_RA_BLOCKS)
 #define NAMEI_RA_INDEX(c,b)  (((c) * NAMEI_RA_BLOCKS) + (b))
 
-static struct buffer_head *ext4_append(handle_t *handle,
-					struct inode *inode,
-					ext4_lblk_t *block, int *err)
+struct buffer_head *ext4_append(handle_t *handle,
+				struct inode *inode,
+				ext4_lblk_t *block, int *err)
 {
 	struct buffer_head *bh;
 	struct ext4_inode_info *ei = EXT4_I(inode);
