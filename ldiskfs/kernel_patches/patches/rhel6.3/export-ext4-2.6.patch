---
 fs/ext4/exports.c |   15 +++++++++++++++
 fs/ext4/ext4.h    |    2 ++
 fs/ext4/ialloc.c  |    2 +-
 3 files changed, 18 insertions(+), 1 deletion(-)

--- /dev/null
+++ b/fs/ext4/exports.c
@@ -0,0 +1,15 @@
+#include <linux/module.h>
+#include "ext4.h"
+#include "ext4_jbd2.h"
+#include "ext4_extents.h"
+#include "xattr.h"
+
+EXPORT_SYMBOL(ext4_get_group_desc);
+EXPORT_SYMBOL(ext4_read_inode_bitmap);
+EXPORT_SYMBOL(ext4_journal_abort_handle);
+EXPORT_SYMBOL(ext4_force_commit);
+EXPORT_SYMBOL(ext4_xattr_get);
+EXPORT_SYMBOL(ext4_xattr_set_handle);
+EXPORT_SYMBOL(ext4_bread);
+EXPORT_SYMBOL(ext4_journal_start_sb);
+EXPORT_SYMBOL(__ext4_journal_stop);
--- a/fs/ext4/ext4.h
+++ b/fs/ext4/ext4.h
@@ -1605,6 +1605,8 @@ extern unsigned ext4_init_inode_bitmap(s
 				       struct buffer_head *bh,
 				       ext4_group_t group,
 				       struct ext4_group_desc *desc);
+extern struct buffer_head *ext4_read_inode_bitmap(struct super_block *sb,
+						  ext4_group_t block_group);
 extern void mark_bitmap_end(int start_bit, int end_bit, char *bitmap);
 extern int ext4_init_inode_table(struct super_block *sb,
 				 ext4_group_t group, int barrier);
--- a/fs/ext4/ialloc.c
+++ b/fs/ext4/ialloc.c
@@ -97,7 +97,7 @@ unsigned ext4_init_inode_bitmap(struct s
  *
  * Return buffer_head of bitmap on success or NULL.
  */
-static struct buffer_head *
+struct buffer_head *
 ext4_read_inode_bitmap(struct super_block *sb, ext4_group_t block_group)
 {
 	struct ext4_group_desc *desc;
